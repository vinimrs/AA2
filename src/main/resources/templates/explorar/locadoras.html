<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
</head>
<body>
<section class="layout-content" layout:fragment="corpo">
    <div class="container align-items-center">
        <h1 th:text="#{explore.locadoras.title}">Nossas locadoras</h1>
        <p th:text="#{explore.locadoras.paragraph}">Aqui estão listadas as locadoras disponíveis!</p>
    </div>
    <div class="container" id="listagem">
        <div>
            <h2 th:text="#{explore.locadoras.filter.title}">Filtre as locadoras por cidade!</h2>
            <form method="GET" th:action="@{''(city=pt)}">
                <label for="filtro" th:text="#{explore.locadoras.filter.label}">Filtre por cidade</label>
                <input th:value="${city}" type="text" name="city" id="filtro" class="form-control"
                       th:placeholder="#{explore.locadoras.filter.placeholder}"/>

                <button type="submit" class="btn btn-primary mt-2" th:text="#{explore.locadoras.filter.button}">
                    Filtrar
                </button>
                <a th:href="@{/explorar/locadoras}">
                    <button type="button" class="btn btn-secondary mt-2"
                            th:text="#{explore.locadoras.filter.clearbutton}">
                        Limpar filtro
                    </button>
                </a>

            </form>
        </div>

        <div th:replace="fragments/alert"></div>

        <div th:if="${city} != null" class="container">
            <div class="row">
                <div class="col-12">
                    <h2 th:text="#{explore.locadoras.list.title} + ' ' + ${city}">Lista de locadoras</h2>
                </div>
            </div>
        </div>

        <div th:if="${locadoras.isEmpty()}" class="table-responsive">
            <p th:text="#{explore.locadoras.list.empty}">Não encontramos locadoras.</p>
        </div>

        <div th:if="${!locadoras.isEmpty()}" class="table-responsive">
            <table class="table table-striped table-hover table-sm">
                <thead>
                <tr>
                    <th>#</th>
                    <th th:text="#{locadora.name.label}"></th>
                    <th th:text="#{locadora.city.label}"></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="locadora : ${locadoras}">
                    <td th:text="${locadora.id}"></td>
                    <td th:text="${locadora.name}"></td>
                    <td th:text="${locadora.city}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div th:replace="fragments/modal :: modal"></div>
</section>
</body>
</html>
